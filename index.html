<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–∞—Ä–∞—Å –ú–∞–∫—Å–∏–º º—è–∫ ‚Äî –∫—ñ–Ω–æ–∞—Ä—Ö—ñ–≤</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üåì</text></svg>">
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif; background: #fff; color: #222; margin: 0; padding: 20px; overflow-x: hidden; }
        .main-wrapper { max-width: 1400px; margin: 0 auto; display: none; }
        
        /* Headers */
        .year-header { font-size: 40px; font-weight: 700; margin: 40px 0 10px; border-bottom: 2px solid #111; padding-bottom: 5px; display: inline-block; }
        .year-header:first-child { margin-top: 0; }
        .season-header { font-size: 14px; font-weight: 700; color: #e62117; text-transform: uppercase; letter-spacing: 2px; margin: 30px 0 10px; }
        .month-header { color: #555; font-size: 18px; font-weight: 600; text-transform: uppercase; margin: 15px 0; letter-spacing: 1px; }
        
        /* Grid */
        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px; }
        .day-cell { 
            aspect-ratio: 16/9; position: relative; background: #f8f8f8; border-radius: 6px; 
            display: flex; flex-direction: column; overflow: hidden; /* –û–±—Ä—ñ–∑–∞—î–º–æ –≤—Å–µ, –∫—Ä—ñ–º —Å—Ç—ñ–∫–µ—Ä–∞ */
        }
        .day-cell.empty-day { background: transparent; overflow: visible; } 
        /* –î–ª—è —Å—Ç—ñ–∫–µ—Ä–∞ "–°–µ–∑–æ–Ω 1" –¥–æ–∑–≤–æ–ª—è—î–º–æ –≤–∏–ª–∞–∑–∏—Ç–∏, —è–∫—â–æ —Ü–µ –ø—É—Å—Ç–∞ –∫–ª—ñ—Ç–∏–Ω–∫–∞ */
        .day-cell:has(.marker-sticker) { overflow: visible; background: transparent; }

        
        /* --- –ù–û–í–ò–ô –°–¢–ò–õ–¨ –î–ê–¢–ò –Ü –î–ù–Ø --- */
        .date-container {
            position: absolute; top: 8px; left: 10px; right: 10px;
            display: flex; flex-direction: row; align-items: baseline; gap: 6px;
            z-index: 10; pointer-events: none;
        }
        
        /* –î–∞—Ç–∞ - –ì–†–û–ú–ö–ê */
        .date-num { 
            font-size: 18px; 
            font-weight: 800; 
            line-height: 1;
            color: #ccc; /* –°—ñ—Ä–∏–π –¥–ª—è –ø—É—Å—Ç–∏—Ö –¥–Ω—ñ–≤ */
        }
        
        /* –î–µ–Ω—å —Ç–∏–∂–Ω—è - –¢–ò–•–ò–ô */
        .day-name {
            font-size: 10px; 
            font-weight: 500; 
            text-transform: uppercase; 
            color: #ccc; 
            opacity: 0.6; /* –ù–∞–ø—ñ–≤–ø—Ä–æ–∑–æ—Ä—ñ—Å—Ç—å –ø—Ä–∏–±–∏—Ä–∞—î —à—É–º */
        }

        /* –°—Ç–∏–ª—ñ —Ç–µ–∫—Å—Ç—É –Ω–∞ –≤—ñ–¥–µ–æ (–±—ñ–ª–∏–π –∫–æ–ª—ñ—Ä) */
        .has-video .date-num { 
            color: #fff; 
            text-shadow: 0 1px 3px rgba(0,0,0,0.9); 
        }
        .has-video .day-name { 
            color: #fff; 
            opacity: 0.7; /* –¢—Ä–æ—Ö–∏ –ø—Ä–æ–∑–æ—Ä–∏–π –±—ñ–ª–∏–π */
            text-shadow: 0 1px 2px rgba(0,0,0,0.9); 
        }

        /* Video Link */
        .video-link { display: block; width: 100%; height: 100%; position: relative; cursor: pointer; z-index: 5; }
        .video-thumb { width: 100%; height: 100%; object-fit: cover; transition: transform 0.4s ease; }
        .video-link:hover .video-thumb { transform: scale(1.03); }
        
        /* –ì—Ä–∞–¥—ñ—î–Ω—Ç —Ç–µ–ø–µ—Ä —Ç—Ä–æ—Ö–∏ —Å–∏–ª—å–Ω—ñ—à–∏–π –∑–≤–µ—Ä—Ö—É, —â–æ–± —á–∏—Ç–∞–ª–∞—Å—å –¥–∞—Ç–∞ */
        .video-link::after { 
            content: ''; position: absolute; inset: 0; 
            background: linear-gradient(to bottom, rgba(0,0,0,0.6) 0%, transparent 30%, transparent 60%, rgba(0,0,0,0.9) 100%); 
            pointer-events: none; 
        }
        
        .overlay-title { 
            position: absolute; bottom: 10px; left: 10px; right: 10px; 
            color: #fff; font-size: 11px; font-weight: 500; 
            text-shadow: 0 1px 2px #000; z-index: 10; 
            white-space: nowrap; overflow: hidden; text-overflow: ellipsis; 
            opacity: 0.9;
        }
        
        /* Watched State (Red Cross) */
        .day-cell.watched .video-thumb { filter: none; opacity: 0.8; }
        .day-cell.watched .video-link::before, .day-cell.watched .video-link::after { content: ''; position: absolute; top: 50%; left: 50%; width: 150%; height: 3px; background: #e62117; z-index: 20; pointer-events: none; box-shadow: 0 0 5px rgba(0,0,0,0.3); }
        .day-cell.watched .video-link::before { transform: translate(-50%, -50%) rotate(45deg); }
        .day-cell.watched .video-link::after { transform: translate(-50%, -50%) rotate(-45deg); }

        /* --- SEASON 1 MARKER (Pastel Sticker) --- */
        .marker-sticker {
            position: absolute; inset: 0;
            background-color: #FF6B6B; /* Pastel Red */
            display: flex; flex-direction: row; align-items: center; justify-content: center; gap: 6px;
            transform: rotate(-2deg) scale(1.05); 
            border-radius: 6px;
            box-shadow: 3px 3px 8px rgba(0,0,0,0.15);
            z-index: 20;
        }
        .marker-text {
            font-family: 'Courier New', Courier, monospace;
            font-weight: 900; font-size: 20px; color: white;
            text-transform: uppercase; letter-spacing: -1px;
        }
        .marker-arrow {
            width: 20px; height: 20px; stroke: white; stroke-width: 2; fill: none; stroke-linecap: round; stroke-linejoin: round;
        }

        @media (max-width: 1024px) { .calendar-grid { grid-template-columns: repeat(4, 1fr); } }
        @media (max-width: 600px) { 
            body { padding: 10px; } 
            .calendar-grid { grid-template-columns: repeat(2, 1fr); gap: 6px; } 
            .year-header { font-size: 32px; } 
            .marker-text { font-size: 16px; }
            .date-num { font-size: 16px; }
            .day-name { font-size: 9px; }
        }
        #loading { font-size: 12px; color: #999; text-align: center; margin-top: 50px; }
    </style>
</head>
<body>
<div id="loading">...</div>
<div class="main-wrapper" id="main">
    <div id="app"></div>
</div>
<script>
    const API_KEY = 'AIzaSyC918RPw_8amuFXKD0ztETJMSjTHx4rUWc';
    const UPLOADS_ID = 'UUhN1_4a8atyqkFcNIJx6MlA'; 
    
    // START: Feb 8, 2026
    const START_YEAR = 2026;
    const START_MONTH = 1; 
    const START_DAY = 8;
    
    const app = document.getElementById('app');
    const videosMap = {};
    let watchedVideos = [];
    try { watchedVideos = JSON.parse(localStorage.getItem('my_watched_videos') || '[]'); } catch (e) {}

    const weekDays = ["–ù–î", "–ü–ù", "–í–¢", "–°–†", "–ß–¢", "–ü–¢", "–°–ë"];

    async function init() {
        try {
            const res = await fetch(`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=${UPLOADS_ID}&maxResults=50&key=${API_KEY}&cb=${Math.random()}`);
            const data = await res.json();
            if (data.items) {
                data.items.forEach(item => {
                    videosMap[item.snippet.publishedAt.split('T')[0]] = item;
                });
            }
        } catch (e) {}
        render();
        document.getElementById('loading').style.display = 'none';
        document.getElementById('main').style.display = 'block';
    }

    function getSeason(m) {
        if (m === 11 || m <= 1) return "–ó–ò–ú–ê";
        if (m >= 2 && m <= 4) return "–í–ï–°–ù–ê";
        if (m >= 5 && m <= 7) return "–õ–Ü–¢–û";
        return "–û–°–Ü–ù–¨";
    }

    function render() {
        const today = new Date();
        let loop = new Date(START_YEAR, START_MONTH, 1);
        let curYear = 0, lastSeason = "";

        while (loop <= today) {
            const y = loop.getFullYear();
            const m = loop.getMonth();
            const seas = getSeason(m);

            if (y !== curYear) {
                app.innerHTML += `<div class="year-header">${y}</div>`;
                curYear = y;
                lastSeason = "";
            }
            if (seas !== lastSeason) {
                app.innerHTML += `<div class="season-header">${seas}</div>`;
                lastSeason = seas;
            }
            createMonth(y, m);
            loop.setMonth(m + 1);
        }
    }

    function createMonth(y, m) {
        const months = ["–°—ñ—á–µ–Ω—å", "–õ—é—Ç–∏–π", "–ë–µ—Ä–µ–∑–µ–Ω—å", "–ö–≤—ñ—Ç–µ–Ω—å", "–¢—Ä–∞–≤–µ–Ω—å", "–ß–µ—Ä–≤–µ–Ω—å", "–õ–∏–ø–µ–Ω—å", "–°–µ—Ä–ø–µ–Ω—å", "–í–µ—Ä–µ—Å–µ–Ω—å", "–ñ–æ–≤—Ç–µ–Ω—å", "–õ–∏—Å—Ç–æ–ø–∞–¥", "–ì—Ä—É–¥–µ–Ω—å"];
        app.innerHTML += `<div class="month-header">${months[m]}</div>`;
        
        const grid = document.createElement('div');
        grid.className = 'calendar-grid';
        
        let firstDay = (y === START_YEAR && m === START_MONTH) ? START_DAY : 1;
        let daysInMonth = new Date(y, m + 1, 0).getDate();

        for (let d = firstDay; d <= daysInMonth; d++) {
            const dateObj = new Date(y, m, d);
            const dayName = weekDays[dateObj.getDay()];
            const key = `${y}-${(m+1).toString().padStart(2,'0')}-${d.toString().padStart(2,'0')}`;
            const vid = videosMap[key];
            
            let cellContent = '';
            let cellClass = 'day-cell empty-day';
            
            // –ó–∞–≥–∞–ª—å–Ω–∏–π –±–ª–æ–∫ –¥–ª—è –¥–∞—Ç–∏ (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤—Å—é–¥–∏)
            const dateBlock = `
                <div class="date-container">
                    <span class="date-num">${d}</span>
                    <span class="day-name">${dayName}</span>
                </div>
            `;

            if (vid) {
                cellClass = 'day-cell has-video';
                const id = vid.snippet.resourceId.videoId;
                const thumb = vid.snippet.thumbnails.maxres?.url || vid.snippet.thumbnails.medium.url;
                if (watchedVideos.includes(id)) cellClass += ' watched';
                
                cellContent = `
                    ${dateBlock}
                    <a href="https://www.youtube.com/watch?v=${id}" target="_blank" class="video-link" onclick="mark('${id}', this.parentElement)">
                        <img src="${thumb}" class="video-thumb" loading="lazy">
                        <div class="overlay-title">${vid.snippet.title}</div>
                    </a>`;
            } else {
                cellContent = dateBlock;
            }

            // --- STICKER SEASON 1 ---
            if (y === 2026 && m === 1 && d === 11) {
                if (!vid) {
                    cellContent += `
                    <div class="marker-sticker">
                        <div class="marker-text">–°–ï–ó–û–ù 1</div>
                        <svg class="marker-arrow" viewBox="0 0 24 24">
                            <path d="M4,12 L20,12 M14,6 L20,12 L14,18" />
                        </svg>
                    </div>`;
                }
            }

            grid.innerHTML += `<div class="${cellClass}">${cellContent}</div>`;
        }
        app.appendChild(grid);
    }

    window.mark = function(id, el) {
        if (!watchedVideos.includes(id)) {
            watchedVideos.push(id);
            localStorage.setItem('my_watched_videos', JSON.stringify(watchedVideos));
        }
        el.classList.add('watched');
    }

    init();
</script>
</body>
</html>
